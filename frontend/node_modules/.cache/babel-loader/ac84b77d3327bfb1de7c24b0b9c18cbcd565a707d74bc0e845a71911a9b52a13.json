{"ast":null,"code":"var _jsxFileName = \"/Users/maheshsamale/frontend_technical_assessment/frontend/src/nodes/textNode.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nimport { Position } from 'reactflow';\nimport { BaseNode } from './BaseNode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TextNode = ({\n  id,\n  data\n}) => {\n  _s();\n  const [currText, setCurrText] = useState((data === null || data === void 0 ? void 0 : data.text) || '{{input}}');\n  const [variables, setVariables] = useState([]);\n  const textAreaRef = useRef(null);\n  useEffect(() => {\n    // Regex to find variables like {{ name }} or {{ age }}\n    const regex = /\\{\\{\\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*\\}\\}/g;\n    const matches = [...currText.matchAll(regex)].map(match => match[1]);\n    setVariables([...new Set(matches)]); // Remove duplicates\n\n    // Auto-resize the textarea height based on content\n    if (textAreaRef.current) {\n      textAreaRef.current.style.height = 'auto';\n      textAreaRef.current.style.height = `${textAreaRef.current.scrollHeight}px`;\n    }\n  }, [currText]);\n\n  // Create handles: one for output (Right) and dynamic ones for variables (Left)\n  const handles = [{\n    type: 'source',\n    position: Position.Right,\n    id: 'output'\n  }, ...variables.map((varName, index) => ({\n    type: 'target',\n    position: Position.Left,\n    id: varName,\n    // Distribute handles vertically along the left side\n    style: {\n      top: `${(index + 1) * (100 / (variables.length + 1))}%`\n    }\n  }))];\n  return /*#__PURE__*/_jsxDEV(BaseNode, {\n    id: id,\n    label: \"Text\",\n    handles: handles,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      style: {\n        fontSize: '11px',\n        color: '#666'\n      },\n      children: \"Content:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      ref: textAreaRef,\n      value: currText,\n      onChange: e => setCurrText(e.target.value),\n      style: {\n        width: '100%',\n        border: '1px solid #ccc',\n        borderRadius: '4px',\n        padding: '4px',\n        fontSize: '13px',\n        resize: 'none',\n        overflow: 'hidden'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(TextNode, \"m/5+gsIf4lNa+1pGv05SPUiS3CU=\");\n_c = TextNode;\nvar _c;\n$RefreshReg$(_c, \"TextNode\");","map":{"version":3,"names":["useState","useEffect","useRef","Position","BaseNode","jsxDEV","_jsxDEV","TextNode","id","data","_s","currText","setCurrText","text","variables","setVariables","textAreaRef","regex","matches","matchAll","map","match","Set","current","style","height","scrollHeight","handles","type","position","Right","varName","index","Left","top","length","label","children","fontSize","color","fileName","_jsxFileName","lineNumber","columnNumber","ref","value","onChange","e","target","width","border","borderRadius","padding","resize","overflow","_c","$RefreshReg$"],"sources":["/Users/maheshsamale/frontend_technical_assessment/frontend/src/nodes/textNode.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { Position } from 'reactflow';\nimport { BaseNode } from './BaseNode';\n\nexport const TextNode = ({ id, data }) => {\n  const [currText, setCurrText] = useState(data?.text || '{{input}}');\n  const [variables, setVariables] = useState([]);\n  const textAreaRef = useRef(null);\n\n  useEffect(() => {\n    // Regex to find variables like {{ name }} or {{ age }}\n    const regex = /\\{\\{\\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*\\}\\}/g;\n    const matches = [...currText.matchAll(regex)].map(match => match[1]);\n    setVariables([...new Set(matches)]); // Remove duplicates\n\n    // Auto-resize the textarea height based on content\n    if (textAreaRef.current) {\n      textAreaRef.current.style.height = 'auto';\n      textAreaRef.current.style.height = `${textAreaRef.current.scrollHeight}px`;\n    }\n  }, [currText]);\n\n  // Create handles: one for output (Right) and dynamic ones for variables (Left)\n  const handles = [\n    { type: 'source', position: Position.Right, id: 'output' },\n    ...variables.map((varName, index) => ({\n      type: 'target',\n      position: Position.Left,\n      id: varName,\n      // Distribute handles vertically along the left side\n      style: { top: `${(index + 1) * (100 / (variables.length + 1))}%` }\n    }))\n  ];\n\n  return (\n    <BaseNode id={id} label=\"Text\" handles={handles}>\n      <label style={{ fontSize: '11px', color: '#666' }}>Content:</label>\n      <textarea \n        ref={textAreaRef}\n        value={currText} \n        onChange={(e) => setCurrText(e.target.value)}\n        style={{ \n          width: '100%', \n          border: '1px solid #ccc', \n          borderRadius: '4px',\n          padding: '4px',\n          fontSize: '13px',\n          resize: 'none',\n          overflow: 'hidden'\n        }} \n      />\n    </BaseNode>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}