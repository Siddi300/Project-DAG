{"ast":null,"code":"var _jsxFileName = \"/Users/maheshsamale/frontend_technical_assessment/frontend/src/nodes/textNode.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nimport { Position } from 'reactflow';\nimport { BaseNode } from './BaseNode';\nimport { useStore } from '../store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TextNode = ({\n  id,\n  data\n}) => {\n  _s();\n  const [currText, setCurrText] = useState((data === null || data === void 0 ? void 0 : data.text) || '');\n  const [variables, setVariables] = useState([]);\n  const textAreaRef = useRef(null);\n  const containerRef = useRef(null);\n  const updateNodeField = useStore(s => s.updateNodeField);\n\n  /**\n   * Detect variables like {{ input }}\n   */\n  useEffect(() => {\n    const regex = /\\{\\{\\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*\\}\\}/g;\n    const matches = [...currText.matchAll(regex)].map(m => m[1]);\n    const uniqueVars = [...new Set(matches)];\n    setVariables(uniqueVars);\n    updateNodeField(id, 'text', currText);\n  }, [currText, id, updateNodeField]);\n\n  /**\n   * Auto resize height + width\n   */\n  useEffect(() => {\n    if (!textAreaRef.current || !containerRef.current) return;\n\n    // Height auto resize\n    textAreaRef.current.style.height = \"auto\";\n    textAreaRef.current.style.height = textAreaRef.current.scrollHeight + \"px\";\n\n    // Width auto resize (based on text length)\n    const textLength = Math.max(currText.length, 20);\n    const newWidth = Math.min(420, 180 + textLength * 4);\n    containerRef.current.style.width = `${newWidth}px`;\n  }, [currText]);\n  const sharedStyles = {\n    padding: '12px',\n    fontSize: '14px',\n    lineHeight: '22px',\n    fontFamily: 'monospace',\n    whiteSpace: 'pre-wrap',\n    wordWrap: 'break-word',\n    width: '100%',\n    minHeight: '80px',\n    boxSizing: 'border-box',\n    margin: 0,\n    border: 'none'\n  };\n  return /*#__PURE__*/_jsxDEV(BaseNode, {\n    id: id,\n    label: \"Text\",\n    handles: variables.map((v, i) => ({\n      type: 'target',\n      position: Position.Left,\n      id: `${id}-${v}`,\n      style: {\n        top: `${(i + 1) * (100 / (variables.length + 1))}%`\n      }\n    })),\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      style: {\n        display: 'block',\n        fontSize: '10px',\n        fontWeight: 'bold',\n        color: '#64748b',\n        marginBottom: '6px'\n      },\n      children: \"CONTENT\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      style: {\n        position: 'relative',\n        width: '200px',\n        backgroundColor: '#f8fafc',\n        borderRadius: '8px',\n        border: '1px solid #e2e8f0',\n        minHeight: '80px',\n        transition: 'width 0.15s ease'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n        ref: textAreaRef,\n        value: currText,\n        onChange: e => setCurrText(e.target.value),\n        placeholder: \"Type {{variable}}...\",\n        spellCheck: false,\n        style: {\n          ...sharedStyles,\n          resize: 'none',\n          overflow: 'hidden',\n          outline: 'none',\n          background: 'transparent'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(TextNode, \"xMlhs3TZN9JBFZVQ1A+SRHc6cEg=\", false, function () {\n  return [useStore];\n});\n_c = TextNode;\nvar _c;\n$RefreshReg$(_c, \"TextNode\");","map":{"version":3,"names":["useState","useEffect","useRef","Position","BaseNode","useStore","jsxDEV","_jsxDEV","TextNode","id","data","_s","currText","setCurrText","text","variables","setVariables","textAreaRef","containerRef","updateNodeField","s","regex","matches","matchAll","map","m","uniqueVars","Set","current","style","height","scrollHeight","textLength","Math","max","length","newWidth","min","width","sharedStyles","padding","fontSize","lineHeight","fontFamily","whiteSpace","wordWrap","minHeight","boxSizing","margin","border","label","handles","v","i","type","position","Left","top","children","display","fontWeight","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","ref","backgroundColor","borderRadius","transition","value","onChange","e","target","placeholder","spellCheck","resize","overflow","outline","background","_c","$RefreshReg$"],"sources":["/Users/maheshsamale/frontend_technical_assessment/frontend/src/nodes/textNode.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { Position } from 'reactflow';\nimport { BaseNode } from './BaseNode';\nimport { useStore } from '../store';\n\nexport const TextNode = ({ id, data }) => {\n  const [currText, setCurrText] = useState(data?.text || '');\n  const [variables, setVariables] = useState([]);\n  const textAreaRef = useRef(null);\n  const containerRef = useRef(null);\n\n  const updateNodeField = useStore((s) => s.updateNodeField);\n\n  /**\n   * Detect variables like {{ input }}\n   */\n  useEffect(() => {\n    const regex = /\\{\\{\\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*\\}\\}/g;\n    const matches = [...currText.matchAll(regex)].map(m => m[1]);\n    const uniqueVars = [...new Set(matches)];\n\n    setVariables(uniqueVars);\n    updateNodeField(id, 'text', currText);\n  }, [currText, id, updateNodeField]);\n\n  /**\n   * Auto resize height + width\n   */\n  useEffect(() => {\n    if (!textAreaRef.current || !containerRef.current) return;\n\n    // Height auto resize\n    textAreaRef.current.style.height = \"auto\";\n    textAreaRef.current.style.height =\n      textAreaRef.current.scrollHeight + \"px\";\n\n    // Width auto resize (based on text length)\n    const textLength = Math.max(currText.length, 20);\n    const newWidth = Math.min(420, 180 + textLength * 4);\n    containerRef.current.style.width = `${newWidth}px`;\n\n  }, [currText]);\n\n  const sharedStyles = {\n    padding: '12px',\n    fontSize: '14px',\n    lineHeight: '22px',\n    fontFamily: 'monospace',\n    whiteSpace: 'pre-wrap',\n    wordWrap: 'break-word',\n    width: '100%',\n    minHeight: '80px',\n    boxSizing: 'border-box',\n    margin: 0,\n    border: 'none',\n  };\n\n  return (\n    <BaseNode\n      id={id}\n      label=\"Text\"\n      handles={variables.map((v, i) => ({\n        type: 'target',\n        position: Position.Left,\n        id: `${id}-${v}`,\n        style: {\n          top: `${(i + 1) * (100 / (variables.length + 1))}%`,\n        },\n      }))}\n    >\n      <label\n        style={{\n          display: 'block',\n          fontSize: '10px',\n          fontWeight: 'bold',\n          color: '#64748b',\n          marginBottom: '6px',\n        }}\n      >\n        CONTENT\n      </label>\n\n      <div\n        ref={containerRef}\n        style={{\n          position: 'relative',\n          width: '200px',\n          backgroundColor: '#f8fafc',\n          borderRadius: '8px',\n          border: '1px solid #e2e8f0',\n          minHeight: '80px',\n          transition: 'width 0.15s ease',\n        }}\n      >\n        <textarea\n          ref={textAreaRef}\n          value={currText}\n          onChange={(e) => setCurrText(e.target.value)}\n          placeholder=\"Type {{variable}}...\"\n          spellCheck={false}\n          style={{\n            ...sharedStyles,\n            resize: 'none',\n            overflow: 'hidden',\n            outline: 'none',\n            background: 'transparent',\n          }}\n        />\n      </div>\n    </BaseNode>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}