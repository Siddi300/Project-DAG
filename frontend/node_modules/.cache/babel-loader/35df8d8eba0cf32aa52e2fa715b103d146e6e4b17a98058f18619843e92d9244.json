{"ast":null,"code":"var _jsxFileName = \"/Users/maheshsamale/frontend_technical_assessment/frontend/src/nodes/textNode.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from 'react';\nimport { Position } from 'reactflow';\nimport { BaseNode } from './BaseNode';\nimport { useStore } from '../store';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TextNode = ({\n  id,\n  data\n}) => {\n  _s();\n  const [currText, setCurrText] = useState((data === null || data === void 0 ? void 0 : data.text) || 'type {{input}} here');\n  const [variables, setVariables] = useState([]);\n  const updateNodeField = useStore(s => s.updateNodeField);\n  useEffect(() => {\n    // Regex to find variables for the handles\n    const regex = /\\{\\{\\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*\\}\\}/g;\n    const matches = [...currText.matchAll(regex)].map(match => match[1]);\n    setVariables([...new Set(matches)]);\n    updateNodeField(id, 'text', currText);\n  }, [currText, id, updateNodeField]);\n\n  // This function creates the visual \"Pill\" by injecting HTML spans\n  const renderStyledContent = () => {\n    const parts = currText.split(/(\\{\\{\\s*[a-zA-Z_$][a-zA-Z0-9_$]*\\s*\\}\\})/g);\n    return parts.map((part, i) => {\n      const isVar = /\\{\\{\\s*[a-zA-Z_$][a-zA-Z0-9_$]*\\s*\\}\\}/.test(part);\n      if (isVar) {\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            backgroundColor: '#eef2ff',\n            border: '1px solid #c7d2fe',\n            borderRadius: '4px',\n            padding: '2px 4px',\n            color: '#4338ca',\n            // Blue color for the variable\n            fontWeight: '600',\n            fontFamily: 'monospace',\n            display: 'inline-block',\n            lineHeight: '1'\n          },\n          children: part\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 26,\n          columnNumber: 11\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        children: part\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 14\n      }, this);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(BaseNode, {\n    id: id,\n    label: \"Text\",\n    handles: variables.map((v, i) => ({\n      type: 'target',\n      position: Position.Left,\n      id: v,\n      style: {\n        top: `${(i + 1) * (100 / (variables.length + 1))}%`\n      }\n    })),\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      style: {\n        display: 'block',\n        fontSize: '10px',\n        fontWeight: 'bold',\n        color: '#64748b',\n        marginBottom: '8px'\n      },\n      children: \"CONTENT\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '0 8px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'relative',\n          width: '220px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            padding: '12px',\n            fontSize: '14px',\n            lineHeight: '1.5',\n            fontFamily: 'monospace',\n            whiteSpace: 'pre-wrap',\n            wordWrap: 'break-word',\n            pointerEvents: 'none',\n            zIndex: 0,\n            backgroundColor: '#f8fafc',\n            borderRadius: '8px',\n            border: '1px solid #e2e8f0',\n            color: 'transparent' // This hides the black text in the background\n          },\n          children: renderStyledContent()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: currText,\n          onChange: e => setCurrText(e.target.value),\n          spellCheck: false,\n          style: {\n            position: 'relative',\n            width: '100%',\n            minHeight: '80px',\n            padding: '12px',\n            fontSize: '14px',\n            lineHeight: '1.5',\n            fontFamily: 'monospace',\n            backgroundColor: 'transparent',\n            color: '#334155',\n            // Normal text color\n            border: '1px solid transparent',\n            outline: 'none',\n            resize: 'none',\n            zIndex: 1,\n            caretColor: '#6366f1' // Bright cursor\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(TextNode, \"ZzJyVCh9vSWzzQEVkmLMCR3DDOY=\", false, function () {\n  return [useStore];\n});\n_c = TextNode;\nvar _c;\n$RefreshReg$(_c, \"TextNode\");","map":{"version":3,"names":["useState","useEffect","useRef","Position","BaseNode","useStore","jsxDEV","_jsxDEV","TextNode","id","data","_s","currText","setCurrText","text","variables","setVariables","updateNodeField","s","regex","matches","matchAll","map","match","Set","renderStyledContent","parts","split","part","i","isVar","test","style","backgroundColor","border","borderRadius","padding","color","fontWeight","fontFamily","display","lineHeight","children","fileName","_jsxFileName","lineNumber","columnNumber","label","handles","v","type","position","Left","top","length","fontSize","marginBottom","width","left","right","bottom","whiteSpace","wordWrap","pointerEvents","zIndex","value","onChange","e","target","spellCheck","minHeight","outline","resize","caretColor","_c","$RefreshReg$"],"sources":["/Users/maheshsamale/frontend_technical_assessment/frontend/src/nodes/textNode.js"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport { Position } from 'reactflow';\nimport { BaseNode } from './BaseNode';\nimport { useStore } from '../store';\n\nexport const TextNode = ({ id, data }) => {\n  const [currText, setCurrText] = useState(data?.text || 'type {{input}} here');\n  const [variables, setVariables] = useState([]);\n  const updateNodeField = useStore((s) => s.updateNodeField);\n\n  useEffect(() => {\n    // Regex to find variables for the handles\n    const regex = /\\{\\{\\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*\\}\\}/g;\n    const matches = [...currText.matchAll(regex)].map(match => match[1]);\n    setVariables([...new Set(matches)]);\n    updateNodeField(id, 'text', currText);\n  }, [currText, id, updateNodeField]);\n\n  // This function creates the visual \"Pill\" by injecting HTML spans\n  const renderStyledContent = () => {\n    const parts = currText.split(/(\\{\\{\\s*[a-zA-Z_$][a-zA-Z0-9_$]*\\s*\\}\\})/g);\n    return parts.map((part, i) => {\n      const isVar = /\\{\\{\\s*[a-zA-Z_$][a-zA-Z0-9_$]*\\s*\\}\\}/.test(part);\n      if (isVar) {\n        return (\n          <span key={i} style={{\n            backgroundColor: '#eef2ff',\n            border: '1px solid #c7d2fe',\n            borderRadius: '4px',\n            padding: '2px 4px',\n            color: '#4338ca', // Blue color for the variable\n            fontWeight: '600',\n            fontFamily: 'monospace',\n            display: 'inline-block',\n            lineHeight: '1',\n          }}>\n            {part}\n          </span>\n        );\n      }\n      return <span key={i}>{part}</span>;\n    });\n  };\n\n  return (\n    <BaseNode id={id} label=\"Text\" handles={variables.map((v, i) => ({\n      type: 'target', position: Position.Left, id: v,\n      style: { top: `${(i + 1) * (100 / (variables.length + 1))}%` }\n    }))}>\n      <label style={{ display: 'block', fontSize: '10px', fontWeight: 'bold', color: '#64748b', marginBottom: '8px' }}>\n        CONTENT\n      </label>\n\n      <div style={{ padding: '0 8px' }}>\n        <div style={{ position: 'relative', width: '220px' }}>\n          \n          {/* THE HIGHLIGHTER LAYER (Behind) */}\n          <div style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            padding: '12px',\n            fontSize: '14px',\n            lineHeight: '1.5',\n            fontFamily: 'monospace',\n            whiteSpace: 'pre-wrap',\n            wordWrap: 'break-word',\n            pointerEvents: 'none',\n            zIndex: 0,\n            backgroundColor: '#f8fafc',\n            borderRadius: '8px',\n            border: '1px solid #e2e8f0',\n            color: 'transparent', // This hides the black text in the background\n          }}>\n            {renderStyledContent()}\n          </div>\n\n          {/* THE TYPING LAYER (Front) */}\n          <textarea\n            value={currText}\n            onChange={(e) => setCurrText(e.target.value)}\n            spellCheck={false}\n            style={{\n              position: 'relative',\n              width: '100%',\n              minHeight: '80px',\n              padding: '12px',\n              fontSize: '14px',\n              lineHeight: '1.5',\n              fontFamily: 'monospace',\n              backgroundColor: 'transparent',\n              color: '#334155', // Normal text color\n              border: '1px solid transparent',\n              outline: 'none',\n              resize: 'none',\n              zIndex: 1,\n              caretColor: '#6366f1', // Bright cursor\n            }}\n          />\n        </div>\n      </div>\n    </BaseNode>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}