{"ast":null,"code":"var _jsxFileName = \"/Users/maheshsamale/frontend_technical_assessment/frontend/src/nodes/textNode.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Position } from 'reactflow';\nimport { BaseNode } from './BaseNode';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const TextNode = ({\n  id,\n  data\n}) => {\n  _s();\n  const [currText, setCurrText] = useState((data === null || data === void 0 ? void 0 : data.text) || '{{input}}');\n  const [variables, setVariables] = useState([]);\n  useEffect(() => {\n    // Regex to find {{ variableName }}\n    const regex = /\\{\\{\\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*\\}\\}/g;\n    const matches = [...currText.matchAll(regex)].map(match => match[1]);\n    setVariables([...new Set(matches)]); // Remove duplicates\n  }, [currText]);\n\n  // Dynamic handles: 1 for output (Right) and N for variables (Left)\n  const handles = [{\n    type: 'source',\n    position: Position.Right,\n    id: 'output'\n  }, ...variables.map((varName, index) => ({\n    type: 'target',\n    position: Position.Left,\n    id: varName,\n    style: {\n      top: `${(index + 1) * (100 / (variables.length + 1))}%`\n    }\n  }))];\n  return /*#__PURE__*/_jsxDEV(BaseNode, {\n    id: id,\n    label: \"Text\",\n    handles: handles,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      style: {\n        fontSize: '11px'\n      },\n      children: \"Text:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: currText,\n      onChange: e => setCurrText(e.target.value),\n      style: {\n        width: '100%',\n        height: 'auto',\n        minHeight: '40px',\n        overflow: 'hidden',\n        resize: 'none'\n      },\n      onInput: e => {\n        e.target.style.height = 'inherit';\n        e.target.style.height = `${e.target.scrollHeight}px`;\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n_s(TextNode, \"xqn77tEFEE8Yyfw1Qd3bn7KFj5w=\");\n_c = TextNode;\nvar _c;\n$RefreshReg$(_c, \"TextNode\");","map":{"version":3,"names":["useState","useEffect","Position","BaseNode","jsxDEV","_jsxDEV","TextNode","id","data","_s","currText","setCurrText","text","variables","setVariables","regex","matches","matchAll","map","match","Set","handles","type","position","Right","varName","index","Left","style","top","length","label","children","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","width","height","minHeight","overflow","resize","onInput","scrollHeight","_c","$RefreshReg$"],"sources":["/Users/maheshsamale/frontend_technical_assessment/frontend/src/nodes/textNode.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Position } from 'reactflow';\nimport { BaseNode } from './BaseNode';\n\nexport const TextNode = ({ id, data }) => {\n  const [currText, setCurrText] = useState(data?.text || '{{input}}');\n  const [variables, setVariables] = useState([]);\n\n  useEffect(() => {\n    // Regex to find {{ variableName }}\n    const regex = /\\{\\{\\s*([a-zA-Z_$][a-zA-Z0-9_$]*)\\s*\\}\\}/g;\n    const matches = [...currText.matchAll(regex)].map(match => match[1]);\n    setVariables([...new Set(matches)]); // Remove duplicates\n  }, [currText]);\n\n  // Dynamic handles: 1 for output (Right) and N for variables (Left)\n  const handles = [\n    { type: 'source', position: Position.Right, id: 'output' },\n    ...variables.map((varName, index) => ({\n      type: 'target',\n      position: Position.Left,\n      id: varName,\n      style: { top: `${(index + 1) * (100 / (variables.length + 1))}%` }\n    }))\n  ];\n\n  return (\n    <BaseNode id={id} label=\"Text\" handles={handles}>\n      <label style={{ fontSize: '11px' }}>Text:</label>\n      <textarea \n        value={currText} \n        onChange={(e) => setCurrText(e.target.value)}\n        style={{ \n          width: '100%', \n          height: 'auto', \n          minHeight: '40px',\n          overflow: 'hidden',\n          resize: 'none' \n        }}\n        onInput={(e) => {\n          e.target.style.height = 'inherit';\n          e.target.style.height = `${e.target.scrollHeight}px`;\n        }}\n      />\n    </BaseNode>\n  );\n};"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,WAAW;AACpC,SAASC,QAAQ,QAAQ,YAAY;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,OAAO,MAAMC,QAAQ,GAAGA,CAAC;EAAEC,EAAE;EAAEC;AAAK,CAAC,KAAK;EAAAC,EAAA;EACxC,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC,CAAAQ,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEI,IAAI,KAAI,WAAW,CAAC;EACnE,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACd;IACA,MAAMc,KAAK,GAAG,2CAA2C;IACzD,MAAMC,OAAO,GAAG,CAAC,GAAGN,QAAQ,CAACO,QAAQ,CAACF,KAAK,CAAC,CAAC,CAACG,GAAG,CAACC,KAAK,IAAIA,KAAK,CAAC,CAAC,CAAC,CAAC;IACpEL,YAAY,CAAC,CAAC,GAAG,IAAIM,GAAG,CAACJ,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;EACvC,CAAC,EAAE,CAACN,QAAQ,CAAC,CAAC;;EAEd;EACA,MAAMW,OAAO,GAAG,CACd;IAAEC,IAAI,EAAE,QAAQ;IAAEC,QAAQ,EAAErB,QAAQ,CAACsB,KAAK;IAAEjB,EAAE,EAAE;EAAS,CAAC,EAC1D,GAAGM,SAAS,CAACK,GAAG,CAAC,CAACO,OAAO,EAAEC,KAAK,MAAM;IACpCJ,IAAI,EAAE,QAAQ;IACdC,QAAQ,EAAErB,QAAQ,CAACyB,IAAI;IACvBpB,EAAE,EAAEkB,OAAO;IACXG,KAAK,EAAE;MAAEC,GAAG,EAAE,GAAG,CAACH,KAAK,GAAG,CAAC,KAAK,GAAG,IAAIb,SAAS,CAACiB,MAAM,GAAG,CAAC,CAAC,CAAC;IAAI;EACnE,CAAC,CAAC,CAAC,CACJ;EAED,oBACEzB,OAAA,CAACF,QAAQ;IAACI,EAAE,EAAEA,EAAG;IAACwB,KAAK,EAAC,MAAM;IAACV,OAAO,EAAEA,OAAQ;IAAAW,QAAA,gBAC9C3B,OAAA;MAAOuB,KAAK,EAAE;QAAEK,QAAQ,EAAE;MAAO,CAAE;MAAAD,QAAA,EAAC;IAAK;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eACjDhC,OAAA;MACEiC,KAAK,EAAE5B,QAAS;MAChB6B,QAAQ,EAAGC,CAAC,IAAK7B,WAAW,CAAC6B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC7CV,KAAK,EAAE;QACLc,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,MAAM;QACdC,SAAS,EAAE,MAAM;QACjBC,QAAQ,EAAE,QAAQ;QAClBC,MAAM,EAAE;MACV,CAAE;MACFC,OAAO,EAAGP,CAAC,IAAK;QACdA,CAAC,CAACC,MAAM,CAACb,KAAK,CAACe,MAAM,GAAG,SAAS;QACjCH,CAAC,CAACC,MAAM,CAACb,KAAK,CAACe,MAAM,GAAG,GAAGH,CAAC,CAACC,MAAM,CAACO,YAAY,IAAI;MACtD;IAAE;MAAAd,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACM,CAAC;AAEf,CAAC;AAAC5B,EAAA,CA1CWH,QAAQ;AAAA2C,EAAA,GAAR3C,QAAQ;AAAA,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}